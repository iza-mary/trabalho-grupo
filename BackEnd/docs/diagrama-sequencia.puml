@startuml
title Diagrama de Sequência - Fluxo Típico (UML 2.0)
' Artifact: Diagrama de Sequência
' Version: 1.0.0
' Tool: PlantUML 1.2024.6 (target)
' Date: 2025-11-11

actor Client
boundary Route as Rt
control Controller as Ctrl
entity Repository as Repo
database DB as Database

== Criar Doador ==
Client -> Rt: POST /doador
Rt -> Ctrl: create(req, res)
Ctrl -> Repo: create(doador)
Repo -> Database: INSERT doador
Database --> Repo: OK (id)
Repo --> Ctrl: doador criado
Ctrl --> Rt: 201 Created
Rt --> Client: JSON { id, ... }

== Obter Doador ==
Client -> Rt: GET /doador/{id}
Rt -> Ctrl: getById(req, res)
Ctrl -> Repo: findById(id)
Repo -> Database: SELECT doador WHERE id
Database --> Repo: doador
Repo --> Ctrl: doador
Ctrl --> Rt: 200 OK
Rt --> Client: JSON doador

== Buscar Doador ==
Client -> Rt: GET /doador?busca=texto
Rt -> Ctrl: getByBusca(req, res)
Ctrl -> Repo: getByBusca(q)
Repo -> Database: SELECT doadores WHERE nome/email LIKE q
Database --> Repo: lista doadores
Repo --> Ctrl: resultados
Ctrl --> Rt: 200 OK
Rt --> Client: JSON [doadores]

@enduml